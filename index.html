<!DOCTYPE html>
<html>
<head>
  <title>RSS Feed</title>
  <!-- Include the React CDN -->
  <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
</head>
<body>
  <!-- The root element for our React app -->
  <div id="root"></div>

  <!-- Our React component -->
  <script type="text/babel">
    const rssLinks = [
      "https://www.theverge.com/rss/index.xml",
      "http://example.com/feed2.xml",
      "http://example.com/feed3.xml"
    ];

    // A function to fetch and parse an RSS feed
    const fetchAndParseRSS = async (rssLink) => {
      // Use the `fetch` function to retrieve the RSS feed
      const response = await fetch(rssLink);
      // Parse the response as XML
      const xml = await response.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(xml, "application/xml");
      return doc;
    };

    // Our React component
    const App = () => {
      // State to hold the parsed RSS feeds
      const [feeds, setFeeds] = React.useState([]);

      // Fetch and parse the RSS feeds when the component mounts
      React.useEffect(() => {
        const fetchFeeds = async () => {
          const parsedFeeds = await Promise.all(rssLinks.map(fetchAndParseRSS));
          setFeeds(parsedFeeds);
        };
        fetchFeeds();
      }, []);

      // Render the RSS feeds
      return (
        <div>
          {feeds.map((feed) => (
            <div key={feed.querySelector("link").textContent}>
              <h2>{feed.querySelector("title").textContent}</h2>
              <ul>
                {[...feed.querySelectorAll("item")].map((item) => (
                  <li key={item.querySelector("link").textContent}>
                    <a href={item.querySelector("link").textContent}>
                      {item.querySelector("title").textContent}
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      );
    };

    // Render the React component to the DOM
    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
